{% extends "base.html" %}

{% block content %}
<script src="//cdn.jsdelivr.net/phaser/2.5.0/phaser.min.js"></script>
<div class='main_desc'>
	<p><em>Insert Game Here</em></p>
	<script type="text/javascript">
		
		var game = new Phaser.Game(800, 600, Phaser.AUTO, '', { preload: preload, create: create, update: update });
		
		function preload() {
		
			game.stage.backgroundColor = '#85b5e1';
		
			game.load.baseURL = 'http://examples.phaser.io/assets/';
			game.load.crossOrigin = 'anonymous';
		
			game.load.image('player', 'sprites/phaser-dude.png');
			game.load.image('platform', 'sprites/platform.png');
			game.load.image('car','sprites/car.png')
		}
		var player;
		var platforms;
		var car;
		var cursors;
		
		function create() {
		
		
			player = game.add.sprite(400, 600, 'player');
			game.physics.arcade.enable(player);
			car = game.add.sprite(400, 0, 'car');
		
		
			player.body.collideWorldBounds = true;
			
		
		
			platforms = game.add.physicsGroup();
		
			platforms.create(500, 150, 'platform');
			platforms.create(200, 200, 'platform');
			platforms.create(0, 450, 'platform');
		
			platforms.setAll('body.immovable', true);
		
			cursors = game.input.keyboard.createCursorKeys();
		
		}
		function update () {
		
			game.physics.arcade.collide(player, platforms);
		
			game.physics.arcade.overlap(car, player, win);
			
			function win (player, car){
				game.add.text(16, 16, 'You WIN!', { fontSize: '32px', fill: '#000' })
			}
			
			player.body.velocity.x = 0;
			player.body.velocity.y = 0;
		
		
			if (cursors.left.isDown)
			{
				player.body.velocity.x = -250;
			}
			else if (cursors.right.isDown)
			{
				player.body.velocity.x = 250;
			}
			else if (cursors.up.isDown)
			{
				player.body.velocity.y = -250;
			}
			else if (cursors.down.isDown)
			{
				player.body.velocity.y = 250;
			}
		}
		function render () {
		
		}
		
		
	</script>
</div>
{% endblock %}
